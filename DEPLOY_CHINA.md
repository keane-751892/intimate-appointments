# ğŸ‡¨ğŸ‡³ å›½å†…ç½‘ç»œç¯å¢ƒéƒ¨ç½²æŒ‡å—

## ğŸ¯ ç›®æ ‡ï¼šå¿«é€Ÿéƒ¨ç½² + å›½å†…è®¿é—®æµç•…

---

## ğŸš€ æ¨èæ–¹æ¡ˆå¯¹æ¯”

### æ–¹æ¡ˆ1ï¼šVercelï¼ˆæ¨èï¼‰â­â­â­

**ä¼˜åŠ¿**ï¼š
- âœ… åœ¨å›½å†…è®¿é—®é€Ÿåº¦å¿«ï¼ˆæœ‰CDNï¼‰
- âœ… è‡ªåŠ¨HTTPS
- âœ… æ”¯æŒè‡ªå®šä¹‰åŸŸå
- âœ… éƒ¨ç½²ç®€å•
- âœ… å…è´¹ç‰ˆæ…·æ…¨

**ç¼ºç‚¹**ï¼š
- âŒ éœ€è¦GitHubï¼ˆå¯èƒ½éœ€è¦ç§‘å­¦ä¸Šç½‘ï¼‰
- âŒ Serverlessé™åˆ¶ï¼ˆä¸é€‚åˆWebSocketï¼‰

**æˆæœ¬**ï¼šå…è´¹

**é€Ÿåº¦**ï¼šâ­â­â­â­ (å›½å†…è®¿é—®å¿«)

---

### æ–¹æ¡ˆ2ï¼šè…¾è®¯äº‘å¼€å‘ï¼ˆæœ€æ¨èï¼‰â­â­â­â­â­

**ä¼˜åŠ¿**ï¼š
- âœ… å›½å†…è®¿é—®æœ€å¿«
- âœ… å®Œæ•´æ”¯æŒWebSocket
- âœ… è‡ªåŠ¨HTTPS
- âœ… å›½å†…ä»£ç æ‰˜ç®¡ï¼ˆCODING/Giteeï¼‰
- âœ… æ¯æœˆå…è´¹é¢åº¦

**ç¼ºç‚¹**ï¼š
- âŒ é…ç½®ç¨å¤æ‚
- âŒ æ–‡æ¡£ä¸»è¦æ˜¯ä¸­æ–‡

**æˆæœ¬**ï¼š
- å…è´¹ç‰ˆï¼šæ¯æœˆ2GBæµé‡ï¼Œ10ä¸‡æ¬¡è°ƒç”¨
- ä»˜è´¹ç‰ˆï¼šçº¦20-50å…ƒ/æœˆ

**é€Ÿåº¦**ï¼šâ­â­â­â­â­ (å›½å†…æœ€å¿«)

---

### æ–¹æ¡ˆ3ï¼šRailwayï¼ˆå¤‡é€‰ï¼‰â­â­â­

**ä¼˜åŠ¿**ï¼š
- âœ… æ”¯æŒDockeréƒ¨ç½²
- âœ… å®Œæ•´æ”¯æŒåç«¯æœåŠ¡
- âœ… è‡ªåŠ¨HTTPS

**ç¼ºç‚¹**ï¼š
- âŒ å›½å†…è®¿é—®è¾ƒæ…¢
- âŒ éœ€è¦GitHub

**æˆæœ¬**ï¼šå…è´¹ç‰ˆ $5/æœˆ

**é€Ÿåº¦**ï¼šâ­â­â­

---

## ğŸ‡¨ğŸ‡³ æ–¹æ¡ˆ2è¯¦ç»†æ•™ç¨‹ï¼šè…¾è®¯äº‘å¼€å‘

### ä¸ºä»€ä¹ˆæ¨èè…¾è®¯äº‘å¼€å‘ï¼Ÿ

1. âœ… **å›½å†…è®¿é—®æœ€å¿«** - æœåŠ¡å™¨åœ¨å›½å†…
2. âœ… **å®Œæ•´æ”¯æŒ** - æ”¯æŒWebSocketã€å®šæ—¶å™¨ç­‰
3. âœ… **å…è´¹é¢åº¦** - æ¯æœˆå…è´¹é¢åº¦å¤Ÿç”¨
4. âœ… **ç¨³å®šå¯é ** - è…¾è®¯äº‘åŸºç¡€è®¾æ–½
5. âœ… **æ— éœ€å¤‡æ¡ˆ** - ä½¿ç”¨è…¾è®¯äº‘åŸŸåæ— éœ€å¤‡æ¡ˆ

---

## ğŸ“‹ æ­¥éª¤1ï¼šå‡†å¤‡ä»£ç ï¼ˆ5åˆ†é’Ÿï¼‰

### 1.1 åˆå§‹åŒ–Gitä»“åº“

```bash
cd /Users/Hanchen/intimate-appointments

# åˆå§‹åŒ–Git
git init

# æ·»åŠ æ‰€æœ‰æ–‡ä»¶
git add .

# æäº¤
git commit -m "Initial commit: äº²å¯†æ—¶å…‰åº”ç”¨"
```

### 1.2 æ¨é€åˆ°å›½å†…ä»£ç æ‰˜ç®¡

**é€‰é¡¹Aï¼šä½¿ç”¨CODINGï¼ˆæ¨èï¼‰**

1. è®¿é—® https://coding.net/
2. æ³¨å†Œ/ç™»å½•ï¼ˆæ”¯æŒå¾®ä¿¡ï¼‰
3. åˆ›å»ºæ–°é¡¹ç›®ï¼š`intimate-appointments`
4. æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
# æ·»åŠ è¿œç¨‹ä»“åº“ï¼ˆæ›¿æ¢YOUR_USERNAMEï¼‰
git remote add origin https://e.coding.net/YOUR_USERNAME/intimate-appointments.git

# æ¨é€ä»£ç 
git branch -M main
git push -u origin main
```

**é€‰é¡¹Bï¼šä½¿ç”¨Gitee**

1. è®¿é—® https://gitee.com/
2. æ³¨å†Œ/ç™»å½•
3. åˆ›å»ºæ–°ä»“åº“
4. æ¨é€ä»£ç ï¼š

```bash
git remote add origin https://gitee.com/YOUR_USERNAME/intimate-appointments.git
git push -u origin main
```

---

## ğŸ“‹ æ­¥éª¤2ï¼šæ³¨å†Œè…¾è®¯äº‘å¼€å‘ï¼ˆ5åˆ†é’Ÿï¼‰

### 2.1 æ³¨å†Œè´¦å·

1. è®¿é—® https://cloud.tencent.com/
2. æ³¨å†Œ/ç™»å½•ï¼ˆæ”¯æŒå¾®ä¿¡ï¼‰
3. è¿›å…¥"äº‘å¼€å‘"æ§åˆ¶å°

### 2.2 åˆ›å»ºç¯å¢ƒ

1. ç‚¹å‡»"æ–°å»ºç¯å¢ƒ"
2. å¡«å†™ä¿¡æ¯ï¼š
   - **ç¯å¢ƒåç§°**ï¼šintimate-appointments
   - **ç¯å¢ƒè§„æ ¼**ï¼šé€‰æ‹©"å…è´¹ç‰ˆ"
   - **ä»˜è´¹æ¨¡å¼**ï¼šæŒ‰é‡ä»˜è´¹
3. ç‚¹å‡»"åˆ›å»º"
4. ç­‰å¾…ç¯å¢ƒåˆ›å»ºå®Œæˆï¼ˆçº¦2åˆ†é’Ÿï¼‰

### 3.2 è·å–ç¯å¢ƒä¿¡æ¯

åˆ›å»ºå®Œæˆåï¼Œè®°ä¸‹ï¼š
- **ç¯å¢ƒID**ï¼šç±»ä¼¼ `intimate-xxxxx`
- **ç¯å¢ƒåŸŸå**ï¼šç±»ä¼¼ `intimate-xxxxx.tcb.qcloud.la`

---

## ğŸ“‹ æ­¥éª¤3ï¼šé…ç½®é¡¹ç›®ï¼ˆ10åˆ†é’Ÿï¼‰

### 3.1 ä¿®æ”¹é¡¹ç›®é…ç½®

åˆ›å»º `.cloudbaserc.json` æ–‡ä»¶ï¼š

```json
{
  "envId": "your-env-id",
  "region": "ap-shanghai",
  "framework": {
    "name": "intimate-appointments",
    "plugins": {
      "client": {
        "use": "@cloudbase/framework-plugin-website",
        "build": {
          "command": "npm install && npm run build"
        }
      },
      "server": {
        "use": "@cloudbase/framework-plugin-node",
        "build": {
          "command": "npm install",
          "env": {
            "PORT": "3000"
          }
        }
      },
      "database": {
        "use": "@cloudbase/framework-plugin-database",
        "resources": {
          "collections": [
            {
              "name": "users",
              "description": "ç”¨æˆ·è¡¨"
            },
            {
              "name": "appointments",
              "description": "é¢„çº¦è¡¨"
            }
          ]
        }
      }
    }
  }
}
```

### 3.2 ä¿®æ”¹ç¯å¢ƒå˜é‡

åˆ›å»º `.env.production` æ–‡ä»¶ï¼š

```env
PORT=3000
NODE_ENV=production
MONGODB_URI=mongodb://localhost:27017/intimate_appointments
JWT_SECRET=your-random-secret-key-here
CORS_ORIGIN=https://your-env-id.tcb.qcloud.la
```

### 3.3 å®‰è£…CloudBase CLI

```bash
# å®‰è£…CLIå·¥å…·
npm install -g @cloudbase/cloudbase-cli

# ç™»å½•
cloudbase login

# åˆå§‹åŒ–é¡¹ç›®ï¼ˆé€‰æ‹©åˆšæ‰åˆ›å»ºçš„ç¯å¢ƒï¼‰
cloudbase init
```

---

## ğŸ“‹ æ­¥éª¤4ï¼šéƒ¨ç½²åº”ç”¨ï¼ˆ5åˆ†é’Ÿï¼‰

### 4.1 éƒ¨ç½²é™æ€ç½‘ç«™

```bash
# éƒ¨ç½²å‰ç«¯
cloudbase hosting deploy ./public
```

### 4.2 éƒ¨ç½²åç«¯æœåŠ¡

ç”±äºè…¾è®¯äº‘å¼€å‘çš„é™åˆ¶ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨äº‘å‡½æ•°ï¼š

#### 4.2.1 åˆ›å»ºäº‘å‡½æ•°ç›®å½•ç»“æ„

```bash
mkdir -p cloudfunctions
cd cloudfunctions
```

#### 4.2.2 åˆ›å»ºäº‘å‡½æ•°

åˆ›å»º `appointment-manager` å‡½æ•°ï¼š

```javascript
// cloudfunctions/appointment-manager/index.js
const cloud = require('wx-server-sdk');

cloud.init({
  env: cloud.DYNAMIC_CURRENT_ENV
});

const db = cloud.database();
const _ = db.command;

exports.main = async (event, context) => {
  const { action, data } = event;

  switch (action) {
    case 'create':
      return await createAppointment(data);
    case 'list':
      return await listAppointments(data);
    case 'updateStatus':
      return await updateStatus(data);
    case 'modify':
      return await modifyAppointment(data);
    default:
      return { error: 'Unknown action' };
  }
};

async function createAppointment(data) {
  try {
    const result = await db.collection('appointments').add({
      data: {
        ...data,
        status: 'pending',
        createdAt: new Date(),
        updatedAt: new Date()
      }
    });
    return { success: true, id: result.id };
  } catch (error) {
    return { success: false, error: error.message };
  }
}

async function listAppointments(data) {
  try {
    const { userId } = data;
    const result = await db.collection('appointments')
      .where(_.or([
        { createdBy: userId },
        { partnerId: userId }
      ]))
      .orderBy('createdAt', 'desc')
      .get();

    return { success: true, appointments: result.data };
  } catch (error) {
    return { success: false, error: error.message };
  }
}

async function updateStatus(data) {
  try {
    const { appointmentId, status } = data;
    const result = await db.collection('appointments').doc(appointmentId).update({
      data: {
        status: status,
        updatedAt: new Date()
      }
    });
    return { success: true };
  } catch (error) {
    return { success: false, error: error.message };
  }
}

async function modifyAppointment(data) {
  try {
    const { appointmentId, ...updates } = data;
    const result = await db.collection('appointments').doc(appointmentId).update({
      data: {
        ...updates,
        status: 'modified',
        updatedAt: new Date()
      }
    });
    return { success: true };
  } catch (error) {
    return { success: false, error: error.message };
  }
}
```

#### 4.2.3 éƒ¨ç½²äº‘å‡½æ•°

```bash
# éƒ¨ç½²æ‰€æœ‰äº‘å‡½æ•°
cloudbase functions:deploy
```

---

## ğŸ“‹ æ­¥éª¤5ï¼šé…ç½®è‡ªå®šä¹‰åŸŸåï¼ˆå¯é€‰ï¼Œ10åˆ†é’Ÿï¼‰

### 5.1 è´­ä¹°åŸŸå

åœ¨è…¾è®¯äº‘è´­ä¹°åŸŸåï¼ˆå¯é€‰ï¼‰ï¼š
- è®¿é—® https://dnspod.cloud.tencent.com/
- è´­ä¹°åŸŸåï¼ˆçº¦50-100å…ƒ/å¹´ï¼‰

### 5.2 æ·»åŠ åŸŸå

1. åœ¨è…¾è®¯äº‘å¼€å‘æ§åˆ¶å°
2. ç‚¹å‡»"é™æ€ç½‘ç«™æ‰˜ç®¡"
3. ç‚¹å‡»"è®¾ç½®"
4. æ·»åŠ è‡ªå®šä¹‰åŸŸå
5. æŒ‰ç…§æç¤ºé…ç½®DNS

### 5.3 é…ç½®SSLè¯ä¹¦

è…¾è®¯äº‘ä¼šè‡ªåŠ¨ä¸ºæ‚¨çš„åŸŸåé…ç½®SSLè¯ä¹¦

---

## ğŸ“± æ­¥éª¤6ï¼šiPhoneä½¿ç”¨ï¼ˆ2åˆ†é’Ÿï¼‰

### 6.1 è®¿é—®åº”ç”¨

**ä½¿ç”¨è…¾è®¯äº‘é»˜è®¤åŸŸå**ï¼š
```
https://your-env-id.tcb.qcloud.la
```

**ä½¿ç”¨è‡ªå®šä¹‰åŸŸå**ï¼š
```
https://your-domain.com
```

### 6.2 æ·»åŠ åˆ°ä¸»å±å¹•

1. åœ¨iPhone Safariä¸­æ‰“å¼€åº”ç”¨
2. ç‚¹å‡»åº•éƒ¨åˆ†äº«æŒ‰é’® ğŸ“¤
3. å‘ä¸‹æ»šåŠ¨
4. ç‚¹å‡»"æ·»åŠ åˆ°ä¸»å±å¹•"
5. ç‚¹å‡»"æ·»åŠ "

---

## ğŸ’° æˆæœ¬è¯´æ˜

### è…¾è®¯äº‘å¼€å‘å…è´¹é¢åº¦

æ¯æœˆå…è´¹ï¼š
- âœ… 2GBæ•°æ®åº“å­˜å‚¨
- âœ… 5GBé™æ€ç½‘ç«™æ‰˜ç®¡
- âœ… 50,000æ¬¡æ•°æ®åº“è¯»æ“ä½œ
- âœ… 30,000æ¬¡æ•°æ®åº“å†™æ“ä½œ
- âœ… 5GBCDNæµé‡

**å¯¹äºå¤«å¦»2äººä½¿ç”¨ï¼Œå®Œå…¨å¤Ÿç”¨ï¼**

### è¶…å‡ºå…è´¹é¢åº¦åçš„è´¹ç”¨

| é¡¹ç›® | å•ä»· | å¤‡æ³¨ |
|------|------|------|
| æ•°æ®åº“è¯» | Â¥0.015/ä¸‡æ¬¡ | è¯»æ“ä½œ |
| æ•°æ®åº“å†™ | Â¥0.05/ä¸‡æ¬¡ | å†™æ“ä½œ |
| å­˜å‚¨ç©ºé—´ | Â¥0.004/GB/å¤© | æ•°æ®åº“ |
| CDNæµé‡ | Â¥0.21/GB | æµé‡ |
| äº‘å‡½æ•° | Â¥0.0000167/GBs | è¿è¡Œæ—¶é—´ |

**é¢„ä¼°**ï¼šæ­£å¸¸ä½¿ç”¨æ¯æœˆä¸è¶…è¿‡10å…ƒ

---

## ğŸ”§ å¸¸è§é—®é¢˜

### Q1ï¼šéƒ¨ç½²å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

**A**ï¼šæ£€æŸ¥ä»¥ä¸‹é¡¹ç›®ï¼š
1. ç¯å¢ƒIDæ˜¯å¦æ­£ç¡®
2. ä»£ç æ˜¯å¦æ¨é€åˆ°CODING/Gitee
3. ç½‘ç»œæ˜¯å¦æ­£å¸¸

### Q2ï¼šå›½å†…è®¿é—®è¿˜æ˜¯å¾ˆæ…¢ï¼Ÿ

**A**ï¼š
1. ç¡®ä¿ä½¿ç”¨è…¾è®¯äº‘çš„CDNåŸŸå
2. é…ç½®è‡ªå®šä¹‰åŸŸåï¼ˆå›½å†…DNSè§£æå¿«ï¼‰
3. æ£€æŸ¥æ˜¯å¦æœ‰é˜²ç«å¢™é™åˆ¶

### Q3ï¼šWebSocketä¸å·¥ä½œï¼Ÿ

**A**ï¼šè…¾è®¯äº‘å¼€å‘æ”¯æŒWebSocketï¼Œä½†éœ€è¦ï¼š
1. ä½¿ç”¨äº‘å‡½æ•°
2. é…ç½®æ­£ç¡®çš„ç¯å¢ƒå˜é‡
3. ä½¿ç”¨è…¾è®¯äº‘æä¾›çš„WebSocketæœåŠ¡

### Q4ï¼šæ•°æ®è¿ç§»åˆ°å…¶ä»–å¹³å°ï¼Ÿ

**A**ï¼šå¯ä»¥éšæ—¶å¯¼å‡ºæ•°æ®
1. ä½¿ç”¨è®¾ç½®é¡µé¢çš„"å¯¼å‡ºæ•°æ®"åŠŸèƒ½
2. æ•°æ®ä¼šå¯¼å‡ºä¸ºJSONæ–‡ä»¶
3. å¯ä»¥å¯¼å…¥åˆ°å…¶ä»–å¹³å°

---

## ğŸ¯ æ€»ç»“

### æ¨èæ–¹æ¡ˆ

**å¦‚æœæ‚¨åœ¨å›½å†…**ï¼š
1. â­â­â­â­â­ è…¾è®¯äº‘å¼€å‘ï¼ˆæœ€å¿«æœ€ç¨³å®šï¼‰
2. â­â­â­â­ Vercelï¼ˆé€Ÿåº¦å¿«ï¼Œä½†éœ€GitHubï¼‰
3. â­â­â­ Railwayï¼ˆåŠŸèƒ½å®Œæ•´ï¼Œä½†æ…¢ï¼‰

### éƒ¨ç½²æ—¶é—´

- è…¾è®¯äº‘å¼€å‘ï¼š30åˆ†é’Ÿ
- Vercelï¼š15åˆ†é’Ÿ
- Railwayï¼š20åˆ†é’Ÿ

### æˆæœ¬

- è…¾è®¯äº‘å¼€å‘ï¼šå…è´¹ï¼ˆå°é¢ä½¿ç”¨ï¼‰
- Vercelï¼šå…è´¹
- Railwayï¼šå…è´¹ç‰ˆ$5/æœˆ

---

## ğŸš€ ç«‹å³å¼€å§‹

### æœ€å¿«è·¯å¾„ï¼ˆæ¨èï¼‰

```bash
# 1. æ¨é€ä»£ç åˆ°CODING
git init
git add .
git commit -m "Initial commit"
git remote add origin https://e.coding.net/YOUR_USERNAME/intimate-appointments.git
git push -u origin main

# 2. åœ¨è…¾è®¯äº‘åˆ›å»ºç¯å¢ƒ
# è®¿é—® https://console.cloud.tencent.com/tcb

# 3. éƒ¨ç½²
npm install -g @cloudbase/cloudbase-cli
cloudbase login
cloudbase init
cloudbase hosting deploy ./public

# 4. åœ¨iPhoneè®¿é—®
# ä½¿ç”¨è…¾è®¯äº‘æä¾›çš„åŸŸå
```

---

**å‡†å¤‡å¥½äº†å—ï¼Ÿå¼€å§‹éƒ¨ç½²å§ï¼** ğŸš€

**æœ‰é—®é¢˜éšæ—¶é—®æˆ‘ï¼**
